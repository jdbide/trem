<ui:composition template="/pages/template/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<ui:define name="contenu">
		<p:fieldset legend="#{msg.p_job_super_legend}" styleClass="fieldSet">
			<h:form>
				<p:dataTable class="primeTable" emptyMessage="#{msg.tableau_vide}"
					value="#{jobSupervision.listSuperviser}" var="job" id="superv">


					<p:column headerText="#{msg.p_job_super_colHead_JobName}">
						<h:outputText value="#{job.jobNom}"></h:outputText>
					</p:column>

					<p:column headerText="#{msg.p_job_super_colHead_planif}">
						<h:outputText value="#{job.jobPlanifType}">
						</h:outputText>
					</p:column>

					<p:column headerText="#{msg.p_job_super_colHead_NextExecution}">
						<h:outputText value="#{job.nextExec}"></h:outputText>
					</p:column>

					<p:column headerText="#{msg.p_job_super_colHead_start}">
					</p:column>

					<p:column headerText="#{msg.p_job_super_colHead_Etat}">
						<p:poll interval="3" listener="#{jobSupervision.refresh}"
							update="superv">
						</p:poll>
						<h:outputText value="#{job.etat}" id="etat">
						</h:outputText>
					</p:column>

					<p:column headerText="#{msg.p_job_super_colHead_enCours}" id="encours">
						<h:graphicImage name="private/image/feuRouge.gif" rendered="#{job.etat !='Actif'}" >                           
						</h:graphicImage>
						<h:graphicImage name="private/image/feuVert.gif" rendered="#{job.etat =='Actif'}" >
                        </h:graphicImage>
					</p:column>

				</p:dataTable>
			</h:form>
		</p:fieldset>
	</ui:define>

</ui:composition>