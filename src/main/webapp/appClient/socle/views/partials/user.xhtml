<!-- <socle-table table-titre="title" table-parametres="params" colonnes="cols"></socle-table> -->


<!-- Version HTML -->


	<modal visible="modalAdd" url="socle/views/modals/addUser.xhtml"></modal>
	<modal visible="modalConfirmDelete" url="socle/views/modals/confirmDelete.xhtml"></modal>
	
	<button style="width:130px" class="btn btn-block btn-primary" type="button" ng-click="openModalAddUser()">Ajouter un utilisateur</button>
	<div class="box-body table-responsive no-padding">
	
 <table ng-table="params" class="table table-bordered table-striped" ng-form="tableFormUsers" >
 <thead>
				<tr  class="text-center" role="row">
					<th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending">Nom </th>
					<th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending" >Prenom </th>
					<th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending" >Login</th>
					<th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending" >Mot de passe</th>
					<th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending" >Mail </th>
					<th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending" >CP utilisateur</th>
					<th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending" >tomcat Role</th>
					<th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending" >robot</th>
	
				</tr>
			</thead>
        <tr  class="text-center"  ng-repeat="data in datas" ng-form="dataForm">
          <td ng-switch="data.isEditing" >
           <span ng-switch-default class="editable-text">{{data.nomUser}}</span>
           <div class="controls"  ng-switch-when="true">
              <input type="text" name="nom" ng-model="data.nom" class="editable-input form-control input-sm" required />
            </div>
          </td>
        
             <td ng-switch="data.isEditing" >
           <span ng-switch-default class="editable-text">{{data.prenomUser}}</span>
           <div class="controls"  ng-switch-when="true">
              <input type="text" name="prenom" ng-model="data.prenom" class="editable-input form-control input-sm" required />
            </div>
          </td>
           <td ng-switch="data.isEditing" >
           <span ng-switch-default class="editable-text">{{data.loginUser}}</span>
           <div class="controls"  ng-switch-when="true">
              <input type="text" name="login" ng-model="data.loginUser" class="editable-input form-control input-sm" required />
            </div>
          </td>
            <td ng-switch="data.isEditing" >
           <span ng-switch-default class="editable-text">{{data.passwordUser}}</span>
           <div class="controls"  ng-switch-when="true">
              <input type="text" name="passwordUser" ng-model="data.passwordUser" class="editable-input form-control input-sm" required />
            </div>
          </td>
          <td ng-switch="data.isEditing" >
           <span ng-switch-default class="editable-text">{{data.mailUser}}</span>
           <div class="controls"  ng-switch-when="true">
              <input type="text" name="mailUser" ng-model="data.mailUser" class="editable-input form-control input-sm" required />
            </div>
          </td>
            <td ng-switch="data.isEditing" >
           <span ng-switch-default class="editable-text">{{data.cpUser}}</span>
           <div class="controls"  ng-switch-when="true">
              <input type="text" name="cpUser" ng-model="data.cpUser" class="editable-input form-control input-sm" required />
            </div>
          </td>
           <td ng-switch="data.isEditing" >
           <span ng-switch-default class="editable-text">{{data.tomcatRoleUser}}</span>
           <div class="controls"  ng-switch-when="true">
              <input type="text" name="tomcatRoleUser" ng-model="data.tomcatRoleUser" class="editable-input form-control input-sm" required />
            </div>
          </td>
          
            <td ng-switch="data.isEditing">
             <span ng-switch-default class="editable-text">
             <div ng-if="data.robotUser" class="glyphicon glyphicon-ok btn-success "></div>
             <div ng-if="!data.robotUser" class="glyphicon glyphicon-remove btn-danger "></div>
             </span>
                <div class="controls"  ng-switch-when="true">
              <input type="checkbox" name="robotUser" ng-model="data.robotUser"  class="editable-input form-control input-sm "/>
            </div>
            </td>
          
         
          <td> 
          <button class="btn btn btn-primary btn-sm" ng-click="data.isEditing = true;tableFormUser.isEditing=true;onBeforeEdit(data);" ng-if="!data.isEditing" ng-disabled="tableFormUser.isEditing"><span class="glyphicon glyphicon-pencil"></span></button>
          <button class="btn btn-success btn-sm" ng-click="save(data, tableForm)" ng-if="data.isEditing"><span class="glyphicon glyphicon-ok"></span></button>
           <button  class="btn btn-danger btn-sm" type="button" ng-click="openModalConfirmDelete(data)" ng-if="!data.isEditing" ng-disabled="tableForm.isEditing"><span class="glyphicon glyphicon-trash"></span></button>
           <button class="btn btn-warning btn-sm" ng-click="cancel(data,tableForm)" ng-if="data.isEditing"><span class="glyphicon glyphicon-remove"></span></button>
          </td>
        </tr>
      </table>
      
      
